# ν•­ν•΄ ν”λ¬μ¤ 3μ£Όμ°¨. e-μ»¤λ¨Έμ¤

## ν”„λ΅μ νΈ μ •λ³΄
- Java 17
- SpringBoot 3.3.4
- JUnit + AssertJ
- Layered + Clean Architecture
- Swagger (http://localhost:8080/swagger-ui/index.html)

## λ©μ°¨

### `Step05`
1. [μ‹λ‚λ¦¬μ¤ μ„ μ •](#1-μ‹λ‚λ¦¬μ¤-μ„ μ •-e-μ»¤λ¨Έμ¤-μ„λΉ„μ¤)
2. [Milestone](#2-Milestone)
3. [μ‹ν€€μ¤ λ‹¤μ΄μ–΄κ·Έλ¨](#3-μ‹ν€€μ¤-λ‹¤μ΄μ–΄κ·Έλ¨)

### `Step06`
1. [ERD μ„¤κ³„](#1-erd-μ„¤κ³„)
2. [API λ…μ„Έ λ° MockAPI](#2-api-λ…μ„Έ-λ°-mockapi)

---

## `Step5`
## 1. μ‹λ‚λ¦¬μ¤ μ„ μ •: `e-μ»¤λ¨Έμ¤ μ„λΉ„μ¤`
<details>
<summary>μ”κµ¬μ‚¬ν•­ λ³΄κΈ°</summary>

### Description
- `e-μ»¤λ¨Έμ¤ μƒν’ μ£Όλ¬Έ μ„λΉ„μ¤`λ¥Ό κµ¬ν„ν•΄ λ΄…λ‹λ‹¤.
- μƒν’ μ£Όλ¬Έμ— ν•„μ”ν• λ©”λ‰΄ μ •λ³΄λ“¤μ„ κµ¬μ„±ν•κ³  μ΅°νκ°€ κ°€λ¥ν•΄μ•Ό ν•©λ‹λ‹¤.
- μ‚¬μ©μλ” μƒν’μ„ μ—¬λ¬κ° μ„ νƒν•΄ μ£Όλ¬Έν•  μ μκ³ , λ―Έλ¦¬ μ¶©μ „ν• μ”μ•΅μ„ μ΄μ©ν•©λ‹λ‹¤.
- μƒν’ μ£Όλ¬Έ λ‚΄μ—­μ„ ν†µν•΄ νλ§¤λ‰μ΄ κ°€μ¥ λ†’μ€ μƒν’μ„ μ¶”μ²ν•©λ‹λ‹¤.

### Requirements
- μ•„λ 4κ°€μ§€ API λ¥Ό κµ¬ν„ν•©λ‹λ‹¤.
    - μ”μ•΅ μ¶©μ „ / μ΅°ν API
    - μƒν’ μ΅°ν API
    - μ£Όλ¬Έ / κ²°μ  API
    - μΈκΈ° νλ§¤ μƒν’ μ΅°ν API
- κ° κΈ°λ¥ λ° μ μ•½μ‚¬ν•­μ— λ€ν•΄ λ‹¨μ„ ν…μ¤νΈλ¥Ό λ°λ“μ‹ ν•λ‚ μ΄μƒ μ‘μ„±ν•λ„λ΅ ν•©λ‹λ‹¤.
- λ‹¤μμ μΈμ¤ν„΄μ¤λ΅ μ–΄ν”λ¦¬μΌ€μ΄μ…μ΄ λ™μ‘ν•λ”λΌλ„ κΈ°λ¥μ— λ¬Έμ κ°€ μ—†λ„λ΅ μ‘μ„±ν•λ„λ΅ ν•©λ‹λ‹¤.
- `λ™μ‹μ„± μ΄μ`λ¥Ό κ³ λ ¤ν•μ—¬ κµ¬ν„ν•©λ‹λ‹¤.
- μ¬κ³  κ΄€λ¦¬μ— λ¬Έμ  μ—†λ„λ΅ κµ¬ν„ν•©λ‹λ‹¤.

### API Specs

`κΈ°λ³Έ κ³Όμ `

1οΈβƒ£ `μ£Όμ”` μ”μ•΅ μ¶©μ „ / μ΅°ν API
- κ²°μ μ— μ‚¬μ©λ  κΈμ•΅μ„ μ¶©μ „ν•λ” API λ¥Ό μ‘μ„±ν•©λ‹λ‹¤.
- μ‚¬μ©μ μ‹λ³„μ λ° μ¶©μ „ν•  κΈμ•΅μ„ λ°›μ•„ μ”μ•΅μ„ μ¶©μ „ν•©λ‹λ‹¤.
- μ‚¬μ©μ μ‹λ³„μλ¥Ό ν†µν•΄ ν•΄λ‹Ή μ‚¬μ©μμ μ”μ•΅μ„ μ΅°νν•©λ‹λ‹¤.

2οΈβƒ£ `κΈ°λ³Έ` μƒν’ μ΅°ν API
- μƒν’ μ •λ³΄(ID, μ΄λ¦„, κ°€κ²©, μ”μ—¬μλ‰)μ„ μ΅°νν•λ” API λ¥Ό μ‘μ„±ν•©λ‹λ‹¤.
- μ΅°ν μ‹μ μ μƒν’λ³„ μ”μ—¬μλ‰μ΄ μ •ν™•ν•λ©΄ μΆ‹μµλ‹λ‹¤.

3οΈβƒ£ `μ£Όμ”` μ£Όλ¬Έ / κ²°μ  API
- μ‚¬μ©μ μ‹λ³„μμ™€ (μƒν’ ID, μλ‰) λ©λ΅μ„ μ…λ ¥λ°›μ•„ μ£Όλ¬Έν•κ³  κ²°μ λ¥Ό μν–‰ν•λ” API λ¥Ό μ‘μ„±ν•©λ‹λ‹¤.
- κ²°μ λ” κΈ° μ¶©μ „λ μ”μ•΅μ„ κΈ°λ°μΌλ΅ μν–‰ν•λ©° μ„±κ³µν•  μ‹ μ”μ•΅μ„ μ°¨κ°ν•΄μ•Ό ν•©λ‹λ‹¤.
- λ°μ΄ν„° λ¶„μ„μ„ μ„ν•΄ κ²°μ  μ„±κ³µ μ‹μ— μ‹¤μ‹κ°„μΌλ΅ μ£Όλ¬Έ μ •λ³΄λ¥Ό λ°μ΄ν„° ν”λ«νΌμ— μ „μ†΅ν•΄μ•Ό ν•©λ‹λ‹¤.
  - λ°μ΄ν„° ν”λ«νΌμ΄ μ–΄ν”λ¦¬μΌ€μ΄μ… `μ™Έλ¶€` λΌλ” κ°€μ •λ§ μ§€μΌ μ‘μ—…ν•΄ μ£Όμ‹λ©΄ λ©λ‹λ‹¤.
  - λ°μ΄ν„° ν”λ«νΌμΌλ΅μ μ „μ†΅ κΈ°λ¥μ€ Mock API, Fake Module λ“± λ‹¤μ–‘ν• λ°©λ²•μΌλ΅ μ ‘κ·Όν•΄ λ΄…λ‹λ‹¤.

4οΈβƒ£ `κΈ°λ³Έ` μƒμ„ μƒν’ μ΅°ν API
- μµκ·Ό 3μΌκ°„ κ°€μ¥ λ§μ΄ ν”λ¦° μƒμ„ 5κ° μƒν’ μ •λ³΄λ¥Ό μ κ³µν•λ” API λ¥Ό μ‘μ„±ν•©λ‹λ‹¤.
- ν†µκ³„ μ •λ³΄λ¥Ό λ‹¤λ£¨κΈ° μ„ν• κΈ°μ μ  κ³ λ―Όμ„ μ¶©λ¶„ν ν•΄λ³΄λ„λ΅ ν•©λ‹λ‹¤.

`μ‹¬ν™” κ³Όμ `

5οΈβƒ£ `μ‹¬ν™”` μ¥λ°”κµ¬λ‹ κΈ°λ¥
- μ‚¬μ©μλ” κµ¬λ§¤ μ΄μ „μ— κ΄€μ‹¬ μλ” μƒν’λ“¤μ„ μ¥λ°”κµ¬λ‹μ— μ μ¬ν•  μ μμµλ‹λ‹¤.
- μ΄ κΈ°λ¥μ„ μ κ³µν•κΈ° μ„ν•΄ `μ¥λ°”κµ¬λ‹μ— μƒν’ μ¶”κ°€/μ‚­μ ` API μ™€ `μ¥λ°”κµ¬λ‹ μ΅°ν` API κ°€ ν•„μ”ν•©λ‹λ‹¤.
- μ„ λ‘ κΈ°λ¥μ„ μ κ³µν•κΈ° μ„ν•΄ μ–΄λ–¤ μ”κµ¬μ‚¬ν•­μ λΉ„μ¦λ‹μ¤ λ΅μ§μ„ μ„¤κ³„ν•΄μ•Ό ν• μ§€ κ³ λ―Όν•΄ λ΄…λ‹λ‹¤.

`π’΅KEY POINT`

- λ™μ‹μ— μ—¬λ¬ μ£Όλ¬Έμ΄ λ“¤μ–΄μ¬ κ²½μ°, μ μ €μ λ³΄μ  μ”κ³ μ— λ€ν• μ²λ¦¬κ°€ μ •ν™•ν•΄μ•Ό ν•©λ‹λ‹¤.
- κ° μƒν’μ μ¬κ³  κ΄€λ¦¬κ°€ μ •μƒμ μΌλ΅ μ΄λ£¨μ–΄μ Έ μλ»λ μ£Όλ¬Έμ΄ λ°μƒν•μ§€ μ•λ„λ΅ ν•΄μ•Ό ν•©λ‹λ‹¤.

</details>

## 2. Milestone
<details>
<summary>λ‚΄μ© λ³΄κΈ°</summary>

### 1μ£Όμ°¨ (2024λ…„ 10μ›” 05μΌ ~ 2024λ…„ 10μ›” 11μΌ)
- `μ£Όμ” λ©ν‘`: ν”„λ΅μ νΈ μ‹μ‘ λ° κΈ°λ³Έ API μ„¤κ³„
- `μ‘μ—… λ‚΄μ©`
  - Milestone μ‘μ„±
  - μ‹ν€€μ¤ λ‹¤μ΄μ–΄κ·Έλ¨ μ‘μ„±
  - ERD μ‘μ„±
  - API λ…μ„Έ λ° MockAPI μ‘μ„±

### 2μ£Όμ°¨ (2024λ…„ 10μ›” 12μΌ ~ 2024λ…„ 10μ›” 18μΌ)
- `μ£Όμ” λ©ν‘`: κΈ°λ¥ κµ¬ν„
- `μ‘μ—… λ‚΄μ©`
  - μ”μ•΅ μ¶©μ „ / μ΅°ν API κµ¬ν„
  - μƒν’ μ΅°ν API / μƒμ„ μƒν’ μ΅°ν API κµ¬ν„
  - μ£Όλ¬Έ / κ²°μ  API κµ¬ν„
  - μ¥λ°”κµ¬λ‹ κΈ°λ¥ κµ¬ν„

### 3μ£Όμ°¨ (2024λ…„ 10μ›” 19μΌ ~ 2024λ…„ 10μ›” 25μΌ)
- `μ£Όμ” λ©ν‘`: κΈ°λ¥ κ³ λ„ν™” λ° λ¦¬ν©ν† λ§
- `μ‘μ—… λ‚΄μ©`
  - μ½”λ“ λ¦¬ν©ν† λ§ λ° μµμ ν™”
  - μμ™Έ μ²λ¦¬ κ°•ν™”
  - ν†µν•© ν…μ¤νΈ μ‘μ„±

</details>

## 3. μ‹ν€€μ¤ λ‹¤μ΄μ–΄κ·Έλ¨
<details>
<summary>λ‚΄μ© λ³΄κΈ°</summary>

### ver. 1μ£Όμ°¨ (2024λ…„ 10μ›” 05μΌ ~ 2024λ…„ 10μ›” 11μΌ)
- ν΄λΌμ΄μ–ΈνΈ, λ„λ©”μΈ λ¨λ“, λ°μ΄ν„° ν”λ«νΌμ„ κΈ°λ³Έ κµ¬μ΅°λ΅ μ‹ν€€μ¤ λ‹¤μ΄μ–΄κ·Έλ¨μ„ μ‘μ„± 
- μ¶”ν›„ κ³Όμ  μ”κµ¬μ‚¬ν•­μ— λ§μ¶° μ μ°¨ κ³ λ„ν™” μμ •
- Mermaid λ΅λ”© λ¬Έμ λ΅ μΈν• λ‹¤μ΄μ–΄κ·Έλ¨ ν†µν•©

```mermaid
sequenceDiagram
  participant ν΄λΌμ΄μ–ΈνΈ
  participant μ μ €
  participant μƒν’
  participant μ£Όλ¬Έ
  participant κ²°μ 
  participant μ¥λ°”κµ¬λ‹
  participant λ°μ΄ν„° ν”λ«νΌ
  
  Note left of ν΄λΌμ΄μ–ΈνΈ: 1. μ”μ•΅ μ΅°ν API
  ν΄λΌμ΄μ–ΈνΈ->>+μ μ €: μ”μ•΅ μ΅°ν μ”μ²­
  μ μ €->>+λ°μ΄ν„° ν”λ«νΌ: μ”μ•΅ μ •λ³΄ μ΅°ν
  λ°μ΄ν„° ν”λ«νΌ-->>-μ μ €: μ”μ•΅ μ •λ³΄ λ°ν™
  μ μ €-->>-ν΄λΌμ΄μ–ΈνΈ: μ”μ•΅ μ •λ³΄ μ‘λ‹µ

  Note left of ν΄λΌμ΄μ–ΈνΈ: 2. μ”μ•΅ μ¶©μ „ API
  ν΄λΌμ΄μ–ΈνΈ->>+μ μ €: μ”μ•΅ μ¶©μ „ μ”μ²­
  μ μ €->>+λ°μ΄ν„° ν”λ«νΌ: μ”μ•΅ μ—…λ°μ΄νΈ (μ¶©μ „)
  λ°μ΄ν„° ν”λ«νΌ-->>-μ μ €: μ”μ•΅ μ—…λ°μ΄νΈ μ™„λ£
  μ μ €-->>-ν΄λΌμ΄μ–ΈνΈ: μ”μ•΅ μ¶©μ „ μ™„λ£ μ‘λ‹µ

  Note left of ν΄λΌμ΄μ–ΈνΈ: 3. μƒν’ μ΅°ν API
  ν΄λΌμ΄μ–ΈνΈ->>+μƒν’: μƒν’ μ΅°ν μ”μ²­
  μƒν’->>+λ°μ΄ν„° ν”λ«νΌ: μƒν’ μ •λ³΄ μ΅°ν
  λ°μ΄ν„° ν”λ«νΌ-->>-μƒν’: μƒν’ μ •λ³΄ λ°ν™
  μƒν’-->>-ν΄λΌμ΄μ–ΈνΈ: μƒν’ μ •λ³΄ λ°ν™

  Note left of ν΄λΌμ΄μ–ΈνΈ: 4. μƒμ„ μƒν’ μ΅°ν API
  ν΄λΌμ΄μ–ΈνΈ->>+μƒν’: μƒμ„ μƒν’ μ΅°ν μ”μ²­
  μƒν’->>+μ£Όλ¬Έ: μµκ·Ό 3μΌκ°„ μΈκΈ° μƒμ„ μƒν’ μ΅°ν μ”μ²­
  μ£Όλ¬Έ->>+λ°μ΄ν„° ν”λ«νΌ: μµκ·Ό 3μΌκ°„ μΈκΈ° μƒμ„ μƒν’ μ •λ³΄ μ΅°ν
  λ°μ΄ν„° ν”λ«νΌ-->>-μ£Όλ¬Έ: μµκ·Ό 3μΌκ°„ μΈκΈ° μƒμ„ μƒν’ μ •λ³΄ λ°ν™
  μ£Όλ¬Έ-->>-μƒν’: μµκ·Ό 3μΌκ°„ μΈκΈ° μƒμ„ μƒν’ μ •λ³΄ λ°ν™
  μƒν’->>+λ°μ΄ν„° ν”λ«νΌ: μΈκΈ° μƒμ„ μƒν’ μ¬κ³  μ •λ³΄ μ΅°ν
  λ°μ΄ν„° ν”λ«νΌ-->>-μƒν’: μΈκΈ° μƒμ„ μƒν’ μ¬κ³  μ •λ³΄ λ°ν™
  μƒν’-->>-ν΄λΌμ΄μ–ΈνΈ: μƒμ„ μƒν’ μ •λ³΄ μ‘λ‹µ

  Note left of ν΄λΌμ΄μ–ΈνΈ: 5. μ£Όλ¬Έ API
  ν΄λΌμ΄μ–ΈνΈ->>+μ£Όλ¬Έ: μ£Όλ¬Έ μ”μ²­
  μ£Όλ¬Έ->>+μƒν’: μ£Όλ¬Έ μƒν’ μ΅°ν μ”μ²­
  μƒν’->>+λ°μ΄ν„° ν”λ«νΌ: μ£Όλ¬Έ μƒν’ μ •λ³΄ μ΅°ν
  λ°μ΄ν„° ν”λ«νΌ-->>-μƒν’: μ£Όλ¬Έ μƒν’ μ •λ³΄ λ°ν™
  μƒν’-->>-μ£Όλ¬Έ: μ£Όλ¬Έ μƒν’ μ •λ³΄ λ°ν™
  opt μ¬κ³ κ°€ λ¶€μ΅±ν• κ²½μ°
    μ£Όλ¬Έ-->>ν΄λΌμ΄μ–ΈνΈ: μ£Όλ¬Έ μ‹¤ν¨ μ‘λ‹µ
  end
  μ£Όλ¬Έ->>+μƒν’: μƒν’ μ¬κ³  μ°¨κ° μ”μ²­
  μƒν’->>+λ°μ΄ν„° ν”λ«νΌ: μƒν’ μ¬κ³  μ—…λ°μ΄νΈ (μ°¨κ°)
  λ°μ΄ν„° ν”λ«νΌ-->>-μƒν’: μƒν’ μ¬κ³  μ—…λ°μ΄νΈ μ™„λ£
  μƒν’-->>-μ£Όλ¬Έ: μƒν’ μ¬κ³  μ—…λ°μ΄νΈ μ™„λ£
  μ£Όλ¬Έ->>+λ°μ΄ν„° ν”λ«νΌ: μ£Όλ¬Έ μ •λ³΄ μ €μ¥ (μƒνƒ: κ²°μ  λ€κΈ°)
  λ°μ΄ν„° ν”λ«νΌ-->>-μ£Όλ¬Έ: μ£Όλ¬Έ μ •λ³΄ μ €μ¥ μ™„λ£
  μ£Όλ¬Έ-->>-ν΄λΌμ΄μ–ΈνΈ: μ£Όλ¬Έ μ™„λ£ μ‘λ‹µ

  Note left of ν΄λΌμ΄μ–ΈνΈ: 6. κ²°μ  API
  ν΄λΌμ΄μ–ΈνΈ->>+κ²°μ : κ²°μ  μ”μ²­
  κ²°μ ->>+μ£Όλ¬Έ: μ£Όλ¬Έ μ •λ³΄ μ΅°ν μ”μ²­
  μ£Όλ¬Έ->>+λ°μ΄ν„° ν”λ«νΌ: μ£Όλ¬Έ μ •λ³΄ μ΅°ν
  λ°μ΄ν„° ν”λ«νΌ-->>-μ£Όλ¬Έ: μ£Όλ¬Έ μ •λ³΄ λ°ν™
  μ£Όλ¬Έ-->>-κ²°μ : μ£Όλ¬Έ μ •λ³΄ λ°ν™
  κ²°μ ->>+μ μ €: μ”μ•΅ μ°¨κ° μ”μ²­
  opt μ”μ•΅μ΄ λ¶€μ΅±ν• κ²½μ°
    μ μ €-->>ν΄λΌμ΄μ–ΈνΈ: κ²°μ  μ‹¤ν¨ μ‘λ‹µ
  end
  μ μ €->>+λ°μ΄ν„° ν”λ«νΌ: μ”μ•΅ μ—…λ°μ΄νΈ (μ°¨κ°)
  λ°μ΄ν„° ν”λ«νΌ-->>-μ μ €: μ”μ•΅ μ—…λ°μ΄νΈ μ™„λ£
  μ μ €-->>-κ²°μ : μ”μ•΅ μ—…λ°μ΄νΈ μ™„λ£
  κ²°μ ->>+μ£Όλ¬Έ: μ£Όλ¬Έ μ •λ³΄ μ—…λ°μ΄νΈ μ”μ²­
  μ£Όλ¬Έ->>+λ°μ΄ν„° ν”λ«νΌ: μ£Όλ¬Έ μ •λ³΄ μ—…λ°μ΄νΈ (μƒνƒ: κ²°μ  μ™„λ£)
  λ°μ΄ν„° ν”λ«νΌ-->>-μ£Όλ¬Έ: μ£Όλ¬Έ μ •λ³΄ μ—…λ°μ΄νΈ μ™„λ£
  μ£Όλ¬Έ-->>-κ²°μ : μ£Όλ¬Έ μ •λ³΄ μ—…λ°μ΄νΈ μ™„λ£
  κ²°μ -->>-ν΄λΌμ΄μ–ΈνΈ: κ²°μ  μ™„λ£ μ‘λ‹µ

  Note left of ν΄λΌμ΄μ–ΈνΈ: 7. μ¥λ°”κµ¬λ‹ λ©λ΅ μ΅°ν
  ν΄λΌμ΄μ–ΈνΈ->>+μ¥λ°”κµ¬λ‹: μ¥λ°”κµ¬λ‹ λ©λ΅ μ΅°ν μ”μ²­
  μ¥λ°”κµ¬λ‹->>+λ°μ΄ν„° ν”λ«νΌ: μ¥λ°”κµ¬λ‹ λ©λ΅ μ •λ³΄ μ΅°ν
  λ°μ΄ν„° ν”λ«νΌ-->>-μ¥λ°”κµ¬λ‹: μ¥λ°”κµ¬λ‹ λ©λ΅ μ •λ³΄ λ°ν™
  μ¥λ°”κµ¬λ‹->>+μƒν’: μ¥λ°”κµ¬λ‹ μƒν’ μ΅°ν μ”μ²­
  μƒν’->>+λ°μ΄ν„° ν”λ«νΌ: μ¥λ°”κµ¬λ‹ μƒν’ μ •λ³΄ μ΅°ν
  λ°μ΄ν„° ν”λ«νΌ-->>-μƒν’: μ¥λ°”κµ¬λ‹ μƒν’ μ •λ³΄ λ°ν™
  μƒν’-->>-μ¥λ°”κµ¬λ‹: μ¥λ°”κµ¬λ‹ μƒν’ μ •λ³΄ λ°ν™
  μ¥λ°”κµ¬λ‹-->>-ν΄λΌμ΄μ–ΈνΈ: μ¥λ°”κµ¬λ‹ λ©λ΅ μ •λ³΄ μ‘λ‹µ

  Note left of ν΄λΌμ΄μ–ΈνΈ: 8. μ¥λ°”κµ¬λ‹ μ¶”κ°€
  ν΄λΌμ΄μ–ΈνΈ->>+μ¥λ°”κµ¬λ‹: μ¥λ°”κµ¬λ‹ μ¶”κ°€ μ”μ²­
  μ¥λ°”κµ¬λ‹->>+μƒν’: μ¶”κ°€ μƒν’ μ΅°ν μ”μ²­
  μƒν’->>+λ°μ΄ν„° ν”λ«νΌ: μ¶”κ°€ μƒν’ μ •λ³΄ μ΅°ν
  λ°μ΄ν„° ν”λ«νΌ-->>-μƒν’: μ¶”κ°€ μƒν’ μ •λ³΄ λ°ν™
  μƒν’-->>-μ¥λ°”κµ¬λ‹: μ¶”κ°€ μƒν’ μ •λ³΄ λ°ν™
  opt μ¬κ³ κ°€ λ¶€μ΅±ν• κ²½μ°
    μ¥λ°”κµ¬λ‹-->>ν΄λΌμ΄μ–ΈνΈ: μ¥λ°”κµ¬λ‹ μ¶”κ°€ μ‹¤ν¨ μ‘λ‹µ
  end
  μ¥λ°”κµ¬λ‹->>+λ°μ΄ν„° ν”λ«νΌ: μ¥λ°”κµ¬λ‹ μ •λ³΄ μ €μ¥ (μ¶”κ°€)
  λ°μ΄ν„° ν”λ«νΌ-->>-μ¥λ°”κµ¬λ‹: μ¥λ°”κµ¬λ‹ μ •λ³΄ μ €μ¥ μ™„λ£
  μ¥λ°”κµ¬λ‹-->>-ν΄λΌμ΄μ–ΈνΈ: μ¥λ°”κµ¬λ‹ μ¶”κ°€ μ™„λ£ μ‘λ‹µ

  Note left of ν΄λΌμ΄μ–ΈνΈ: 9. μ¥λ°”κµ¬λ‹ μ κ±°
  ν΄λΌμ΄μ–ΈνΈ->>+μ¥λ°”κµ¬λ‹: μ¥λ°”κµ¬λ‹ μ κ±° μ”μ²­
  μ¥λ°”κµ¬λ‹->>+λ°μ΄ν„° ν”λ«νΌ: μ¥λ°”κµ¬λ‹ μ •λ³΄ μ‚­μ  (μ κ±°)
  λ°μ΄ν„° ν”λ«νΌ-->>-μ¥λ°”κµ¬λ‹: μ¥λ°”κµ¬λ‹ μ •λ³΄ μ‚­μ  μ™„λ£
  μ¥λ°”κµ¬λ‹-->>-ν΄λΌμ΄μ–ΈνΈ: μ¥λ°”κµ¬λ‹ μ κ±° μ™„λ£ μ‘λ‹µ
```
</details>

## `Step6`

## 1. ERD μ„¤κ³„

<details>
<summary>λ‚΄μ© λ³΄κΈ°</summary>

### ver. 1μ£Όμ°¨ (2024λ…„ 10μ›” 05μΌ ~ 2024λ…„ 10μ›” 11μΌ)
- νμ¤ν† λ¦¬ ν…μ΄λΈ” μ μ™Έ
- μ¶”ν›„ κ³Όμ  μ”κµ¬μ‚¬ν•­μ— λ§μ¶° μ μ°¨ κ³ λ„ν™” μμ •

![img_1.png](docs/step06/img01.png)

</details>

## 2. API λ…μ„Έ λ° MockAPI

<details>
<summary>λ‚΄μ© λ³΄κΈ°</summary>

## MockAPI

`Swagger`: http://localhost:8080/swagger-ui/index.html

![img.png](docs/step06/img02.png)

## API λ…μ„Έ

### (1) μ”μ•΅ μ΅°ν API
- Endpoint: `GET` /users/balance/{userTsid}
- Summary: μ‚¬μ©μμ μ”μ•΅μ„ μ΅°νν•λ‹¤.
- Parameter:
  - `userTsid` μ‚¬μ©μ μ‹λ³„ ID
- ResponseBody:
  - `200` OK
    - `userTsid`: μ‚¬μ©μ μ‹λ³„ ID
    - `balance`: μ”μ•΅
  ```json
  {
    "userTsid": "string",
    "balance": "long"
  }
  ```
- Example:
  - Response:
    ```json
    {
      "userTsid": "U001",
      "balance": 1000000
    }
    ```
    
### (2) μ”μ•΅ μ¶©μ „ API
- Endpoint: `PATCH` /users/balance/charge
- Summary: μ‚¬μ©μμ μ”μ•΅μ„ μ¶©μ „ν•λ‹¤.
- RequestBody:
  - `userTsid`: μ‚¬μ©μ μ‹λ³„ ID
  - `amount`: μ¶©μ „ν•  κΈμ•΅
  ```json
  {
    "userTsid": "string",
    "amount": "long"
  }
  ```
- ResponseBody:
  - `200` OK
    - `userTsid`: μ‚¬μ©μ μ‹λ³„ ID
    - `balance`: μ”μ•΅
    ```json
    {
      "userTsid": "string",
      "balance": "long"
    }
    ```
- Example:
  - Request:
    ```json
    {
      "userTsid": "U001",
      "amount": 500000
    }
    ``` 
  - Response:
    ```json
    {
      "userTsid": "U001",
      "balance": 1500000
    }
    ```

### (3) μƒν’ λ©λ΅ μ΅°ν API
- Endpoint: `GET` /products
- Summary: μƒν’ λ©λ΅μ„ μ΅°νν•λ‹¤.
- ResponseBody:
  - `200` OK
    - `productTsid`: μƒν’ μ‹λ³„ ID
    - `productName`: μƒν’λ…
    - `unitPrice`: λ‹¨κ°€
    - `stock`: μ¬κ³  μλ‰
  ```json
  [
    {
      "productTsid": "String",
      "productName": "String",
      "unitPrice": "Integer",
      "stock": "Integer"
    }
  ]
  ```
- Example:
  - Response:
    ```json
    [
      {
        "productTsid": "P001",
        "productName": "ν‚¤λ³΄λ“",
        "unitPrice": 100000,
        "stock": 100
      },
      {
        "productTsid": "P002",
        "productName": "λ§μ°μ¤",
        "unitPrice": 50000,
        "stock": 500
      },
      {
        "productTsid": "P003",
        "productName": "λ¨λ‹ν„°",
        "unitPrice": 300000,
        "stock": 90
      },
      {
        "productTsid": "P004",
        "productName": "ν—¤λ“μ…‹",
        "unitPrice": 150000,
        "stock": 200
      },
      {
        "productTsid": "P005",
        "productName": "λ…ΈνΈλ¶",
        "unitPrice": 1000000,
        "stock": 30
      },
      {
        "productTsid": "P006",
        "productName": "νƒλΈ”λ¦Ώ",
        "unitPrice": 250000,
        "stock": 40
      },
      {
        "productTsid": "P007",
        "productName": "λ°μ¤ν¬ν†±",
        "unitPrice": 2000000,
        "stock": 10
      }
    ]
    ```

### (4) μƒμ„ μƒν’ μ΅°ν API
- Endpoint: `GET` /products/top
- Summary: μµκ·Ό 3μΌκ°„ κ°€μ¥ λ§μ΄ ν”λ¦° μƒμ„ 5κ° μƒν’μ„ μ΅°νν•λ‹¤.
- ResponseBody:
  - `200` OK
    - `productTsid`: μƒν’ μ‹λ³„ ID
    - `productName`: μƒν’λ…
    - `unitPrice`: λ‹¨κ°€
    - `stock`: μ¬κ³  μλ‰
  ```json
  [
    {
      "productTsid": "String",
      "productName": "String",
      "unitPrice": "Integer",
      "stock": "Integer"
    }
  ]
  ```
- Example:
  - Response:
    ```json
    [
      {
        "productTsid": "P001",
        "productName": "ν‚¤λ³΄λ“",
        "unitPrice": 100000,
        "stock": 100
      },
      {
        "productTsid": "P002",
        "productName": "λ§μ°μ¤",
        "unitPrice": 50000,
        "stock": 500
      },
      {
        "productTsid": "P003",
        "productName": "λ¨λ‹ν„°",
        "unitPrice": 300000,
        "stock": 90
      },
      {
        "productTsid": "P004",
        "productName": "ν—¤λ“μ…‹",
        "unitPrice": 150000,
        "stock": 200
      },
      {
        "productTsid": "P005",
        "productName": "λ…ΈνΈλ¶",
        "unitPrice": 1000000,
        "stock": 30
      }
    ]
    ```

### (5) μ£Όλ¬Έ API
- Endpoint: `POST` /orders
- Summary: μƒν’μ„ μ£Όλ¬Έν•λ‹¤.
- RequestBody:
  - `userTsid`: μ‚¬μ©μ μ‹λ³„ ID
  - `productList`: μ£Όλ¬Έ μƒν’ λ¦¬μ¤νΈ
    - `productTsid`: μƒν’ μ‹λ³„ ID
    - `quantity`: μ£Όλ¬Έ μλ‰ 
  ```json
  {
    "userTsid": "String",
    "productList": [
      {
        "productTsid" : "String",
        "quantity" : "Integer"
      }
    ]
  }
  ```
- ResponseBody:
  - `200` OK
    - `orderTsid`: μ£Όλ¬Έ μ‹λ³„ ID
    - `totalPrice`: μ£Όλ¬Έ κΈμ•΅ ν•©κ³„
    - `status`: μ£Όλ¬Έ μƒνƒ (0: μ£Όλ¬Έ μ·¨μ†, 1: κ²°μ  λ€κΈ°, 2: κ²°μ  μ™„λ£)
    - `productList`: μ£Όλ¬Έ μƒν’ λ¦¬μ¤νΈ
      - `productTsid`: μƒν’ μ‹λ³„ ID
      - `productName`: μƒν’λ…
      - `quantity`: μ£Όλ¬Έ μλ‰
      - `unitPrice`: λ‹¨κ°€
    ```json
    {
      "orderTsid": "String",
      "totalPrice" : "Integer",
      "status" : "Integer",
      "productList": [
        {
          "productTsid" : "String",
          "productName" : "String",
          "quantity" : "Integer",
          "unitPrice" : "Integer"
        }
      ]
    }
    ```
- Example:
  - Request:
    ```json
    {
      "userTsid": "U001",
      "productList": [
        {
          "productTsid": "P001",
          "quantity": 1
        },
        {
          "productTsid": "P002",
          "quantity": 3
        }
      ]
    }
    ``` 
  - Response:
    ```json
    {
      "orderTsid": "O001",
      "totalPrice": 250000,
      "status": 1,
      "productList": [
        {
          "productTsid": "P001",
          "productName": "ν‚¤λ³΄λ“",
          "quantity": 1,
          "unitPrice": 100000
        },
        {
          "productTsid": "P002",
          "productName": "λ§μ°μ¤",
          "quantity": 3,
          "unitPrice": 50000
        }
      ]
    }
    ```

### (6) κ²°μ  API
- Endpoint: `POST` /payments
- Summary: μ£Όλ¬Έμ„ κ²°μ ν•λ‹¤.
- RequestBody:
  - `userTsid`: μ‚¬μ©μ μ‹λ³„ ID
  - `orderTsid`: μ£Όλ¬Έ μ‹λ³„ ID
  ```json
  {
    "userTsid": "String",
    "orderTsid": "String"
  }
  ```
- ResponseBody:
  - `200` OK
    - `paymentTsid`: κ²°μ  μ‹λ³„ ID
    - `amount`: κ²°μ  κΈμ•΅
    - `status`: κ²°μ  μƒνƒ (0: κ²°μ  μ·¨μ†, 1: κ²°μ  μ™„λ£)
    ```json
    {
      "paymentTsid": "String",
      "amount" : "Integer",
      "status" : "Integer"
    }
    ```
- Example:
  - Request:
    ```json
    {
      "userTsid": "U001",
      "orderTsid": "O001"
    }
    ``` 
  - Response:
    ```json
    {
      "orderTsid": "O001",
      "amount": 250000,
      "status": 1
    }
    ```

### (7) μ¥λ°”κµ¬λ‹ λ©λ΅ μ΅°ν API
- Endpoint: `GET` /carts/{userTsid}
- Summary: μ¥λ°”κµ¬λ‹ λ©λ΅μ„ μ΅°νν•λ‹¤.
- Parameter:
  - `userTsid` μ‚¬μ©μ μ‹λ³„ ID
- ResponseBody:
  - `200` OK
    - `cartTsid`: μ¥λ°”κµ¬λ‹ μ‹λ³„ ID
    - `productTsid`: μƒν’ μ‹λ³„ ID
    - `productName`: μƒν’λ…
    - `quantity`: μ¥λ°”κµ¬λ‹ μƒν’ μλ‰
    - `unit_price`: λ‹¨κ°€
  ```json
  [
    {
      "cartTsid": "String",
      "productTsid": "String",
      "productName": "String",
      "quantity": "Integer",
      "unit_price": "Integer"
    }
  ]
  ```
- Example:
  - Response:
    ```json
    [
      {
        "cartTsid": "C001",
        "productTsid": "P001",
        "productName": "ν‚¤λ³΄λ“",
        "quantity": 1,
        "unit_price": 120000
      },
      {
        "cartTsid": "C003",
        "productTsid": "P003",
        "productName": "ν•΄λ“μ…‹",
        "quantity": 2,
        "unit_price": 80000
      }
    ]
    ```

### (8) μ¥λ°”κµ¬λ‹ μ¶”κ°€ API
- Endpoint: `PATCH` /carts/add
- Summary: μ¥λ°”κµ¬λ‹μ— μƒν’μ„ μ¶”κ°€ν•λ‹¤.
- RequestBody:
  - `userTsid`: μ‚¬μ©μ μ‹λ³„ ID
  - `productTsid`: μƒν’ μ‹λ³„ ID
  - `quantity`: μ¶”κ°€ μλ‰
  ```json
  {
    "userTsid": "String",
    "productTsid": "String",
    "quantity": "Integer"
  }
  ```
- ResponseBody:
  - `200` OK
    - `cartTsid`: μ¥λ°”κµ¬λ‹ μ‹λ³„ ID
    - `productTsid`: μƒν’ μ‹λ³„ ID
    - `productName`: μƒν’λ…
    - `quantity`: μ¥λ°”κµ¬λ‹ μƒν’ μλ‰
    - `unit_price`: λ‹¨κ°€
  ```json
  [
    {
      "cartTsid": "String",
      "productTsid": "String",
      "productName": "String",
      "quantity": "Integer",
      "unit_price": "Integer"
    }
  ]
  ```
- Example:
  - Request:
    ```json
    {
      "userTsid": "U001",
      "productTsid": "P002",
      "quantity": 4
    }
    ``` 
  - Response:
    ```json
    [
      {
        "cartTsid": "C001",
        "productTsid": "P001",
        "productName": "ν‚¤λ³΄λ“",
        "quantity": 1,
        "unit_price": 120000
      },
      {
        "cartTsid": "C002",
        "productTsid": "P002",
        "productName": "λ§μ°μ¤",
        "quantity": 4,
        "unit_price": 50000
      },
      {
        "cartTsid": "C003",
        "productTsid": "P003",
        "productName": "ν•΄λ“μ…‹",
        "quantity": 2,
        "unit_price": 80000
      }
    ]
    ```
    
### (9) μ¥λ°”κµ¬λ‹ μ κ±° API
- Endpoint: `PATCH` /carts/remove
- Summary: μ¥λ°”κµ¬λ‹μ μƒν’μ„ μ κ±°ν•λ‹¤.
- RequestBody:
  - `userTsid`: μ‚¬μ©μ μ‹λ³„ ID
  - `cartTsid`: μ¥λ°”κµ¬λ‹ μ‹λ³„ ID
  ```json
  {
    "userTsid": "String",
    "cartTsid": "String"
  }
  ```
- ResponseBody:
  - `200` OK
    - `cartTsid`: μ¥λ°”κµ¬λ‹ μ‹λ³„ ID
    - `productTsid`: μƒν’ μ‹λ³„ ID
    - `productName`: μƒν’λ…
    - `quantity`: μ¥λ°”κµ¬λ‹ μƒν’ μλ‰
    - `unit_price`: λ‹¨κ°€
  ```json
  [
    {
      "cartTsid": "String",
      "productTsid": "String",
      "productName": "String",
      "quantity": "Integer",
      "unit_price": "Integer"
    }
  ]
  ```
- Example:
  - Request:
    ```json
    {
      "userTsid": "U001",
      "cartTsid": "C003"
    }
    ``` 
  - Response:
    ```json
    [
      {
        "cartTsid": "C001",
        "productTsid": "P001",
        "productName": "ν‚¤λ³΄λ“",
        "quantity": 1,
        "unit_price": 120000
      },
      {
        "cartTsid": "C002",
        "productTsid": "P002",
        "productName": "λ§μ°μ¤",
        "quantity": 4,
        "unit_price": 50000
      }
    ]
    ```
    
</details>